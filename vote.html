<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>å¹´ä¼šèŠ‚ç›®æŠ•ç¥¨</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body { font-family:"Microsoft YaHei", Arial; background:#0f2027; color:#fff; text-align:center; padding:50px; }
h1 { font-size:36px; margin-bottom:40px; }
button { font-size:24px; padding:20px 40px; margin:20px; border:none; border-radius:10px; cursor:pointer; background:orange; color:#fff; transition:0.3s; }
button:hover { background:gold; color:#000; }
</style>
</head>
<body>

<h1>ğŸ‰ å¹´ä¼šèŠ‚ç›®æŠ•ç¥¨ ğŸ‰</h1>

<div id="buttons"></div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyA4LcWqtAhVbq0KDEmm2Hk0l-_me-dn-aY",
  authDomain: "vote-25c12.firebaseapp.com",
  databaseURL: "https://vote-25c12-default-rtdb.firebaseio.com",
  projectId: "vote-25c12",
  storageBucket: "vote-25c12.appspot.com",
  messagingSenderId: "344176299020",
  appId: "1:344176299020:web:3c68a76bf1df256978f229",
  measurementId: "G-JXQGZLRKVK"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// é¢„è®¾èŠ‚ç›®åˆ—è¡¨
const shows = ["èŠ‚ç›®A", "èŠ‚ç›®B", "èŠ‚ç›®C"];

// åŠ¨æ€ç”ŸæˆæŒ‰é’®
const container = document.getElementById("buttons");
shows.forEach(show=>{
  const btn = document.createElement("button");
  btn.textContent = show;
  btn.onclick = ()=>vote(show);
  container.appendChild(btn);
});

// æŠ•ç¥¨å‡½æ•°
function vote(name){
  const voteRef = db.ref("votes/" + name);
  voteRef.transaction(current => (current||0) + 1, (error, committed, snapshot) => {
    if(error){
      alert("æŠ•ç¥¨å¤±è´¥ï¼š" + error);
    } else if(committed){
      alert(`å·²æŠ•ç¥¨ç»™ ${name}ï¼å½“å‰ç¥¨æ•°ï¼š${snapshot.val()}`);
    }
  });
}
</script>

</body>
</html>
